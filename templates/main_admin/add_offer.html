{% extends 'main_admin/base.html' %}
{% block content %}
{% load static %}
<section class="wrapper">
	<div class="form-w3layouts">
        <div class="row">
            <div class="col-lg-12">
                <section class="panel">
                    <header class="panel-heading">
                        {{ task }} Offer
                    </header>
                    <div class="panel-body">
                        {% if msg %}
                            <div class="alert alert-warning radius-both">
                                <p style="color:red;">{{ msg }}</p>
                            </div>
                        {% endif %}
                        <form class="form-horizontal bucket-form" method="post" action="" enctype="multipart/form-data">
                        {% csrf_token %}
                            <div class="form-group">
                                <label class="col-sm-3 control-label">title</label>
                                <div class="col-sm-6">
                                    <input type="text" class="form-control" name="title" id="title" value="{{ offer.title }}" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-3 control-label">description</label>
                                <div class="col-sm-6">
                                    <textarea class="form-control" name="description" rows="3">{{ offer.description }}</textarea>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-3 control-label">code</label>
                                <div class="col-sm-6">
                                    <input type="text" class="form-control" name="code" id="code" value="{{ offer.code }}" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-3 control-label">discount</label>
                                <div class="col-sm-6">
                                    <input type="number" step="0.01" min="0.01" class="form-control" name="discount" id="discount" value="{{ offer.discount|default:0 }}" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-3 control-label">offer type</label>
                                <div class="col-sm-6">
                                    <select class="form-control m-bot15" name="offer_type" id="offer_type">
                                        <option value="{{ CONST.OFFER_TYPE_CHOICES.0.0 }}" selected>{{ CONST.OFFER_TYPE_CHOICES.0.1 }}</option>
                                        <option value="{{ CONST.OFFER_TYPE_CHOICES.1.0 }}" 
                                        {% if offer.offer_type == CONST.OFFER_TYPE_CHOICES.1.0 %}
                                            selected
                                        {% endif %}>{{ CONST.OFFER_TYPE_CHOICES.1.1 }}</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-3 control-label">minimun order price</label>
                                <div class="col-sm-6">
                                    <input type="number" step="0.01" min="0" class="form-control" name="minimun_order_price" id="minimun_order_price" value="{{ offer.minimun_order_price|default:0 }}">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-3 control-label">maximun discount</label>
                                <div class="col-sm-6">
                                    <input type="number" step="0.01" min="0" class="form-control" name="maximun_discount" id="maximun_discount" value="{{ offer.maximun_discount|default:0 }}">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-3 control-label">start time</label>
                                <div class="col-sm-6">
                                    <input type="datetime-local" class="form-control" name="start_time" id="start_time" value="{{ offer.start_time|date:'Y-m-d\TH:i'|default:'' }}" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-3 control-label">end time</label>
                                <div class="col-sm-6">
                                    <input type="datetime-local" class="form-control" name="end_time" id="end_time" value="{{ offer.end_time|date:'Y-m-d\TH:i'|default:'' }}" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-3 control-label">Status</label>
                                <div class="col-sm-6">
                                    <select class="form-control m-bot15" name="status" id="status">
                                        <option value="{{ CONST.STATUS_CHOICES.0.0 }}" selected>{{ CONST.STATUS_CHOICES.0.1 }}</option>
                                        <option value="{{ CONST.STATUS_CHOICES.1.0 }}" 
                                        {% if offer.status == CONST.STATUS_CHOICES.1.0 %}
                                            selected
                                        {% endif %}
                                            >{{ CONST.STATUS_CHOICES.1.1 }}</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-3 control-label"></label>
                                <div class="col-sm-6">
                                    <button type="submit" class="btn btn-info">Submit</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </section>
            </div>
        </div>
    </div>
</section>
{% endblock content %}
