{% extends 'main_admin/base.html' %}
{% block content %}
{% load static %}
<section class="wrapper">
	<div class="form-w3layouts">
        <div class="row">
            <div class="col-lg-12">
                <section class="panel">
                    <header class="panel-heading">
                        {{ task }} Category
                    </header>
                    <div class="panel-body">
                        {% if msg %}
                            <div class="alert alert-warning radius-both">
                                <p style="color:red;">{{ msg }}</p>
                            </div>
                        {% endif %}
                        <form class="form-horizontal bucket-form" method="post" action="">
                        {% csrf_token %}
                            <div class="form-group">
                                <label class="col-sm-3 control-label">Main Category</label>
                                <div class="col-sm-6">
                                    <select class="form-control m-bot15" name="main_category_id">
                                        {% for main_category in main_categories %}
                                            <option value="{{ main_category.pk }}" 
                                            {% if category.main_category_id == main_category.pk %}
                                                selected
                                            {% endif %}>{{ main_category.name }}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-3 control-label">Name</label>
                                <div class="col-sm-6">
                                    <input type="text" class="form-control" name="name" id="name" value="{{ category.name }}">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-3 control-label">Image</label>
                                <div class="col-sm-6">
                                    <input type="file" name="image" class="form-control" placeholder="Category Image" onchange="loadImage(event,'image_preview')">
                                    <img id="image_preview" src="{{ category.image.src.url|default_if_none:'' }}" height="150" width="150"/>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-3 control-label">Status</label>
                                <div class="col-sm-6">
                                    <select class="form-control m-bot15" name="status" id="status">
                                        <option value="{{ CONST.STATUS_CHOICES.0.0 }}" selected>{{ CONST.STATUS_CHOICES.0.1 }}</option>
                                        <option value="{{ CONST.STATUS_CHOICES.1.0 }}" 
                                        {% if category.status == CONST.STATUS_CHOICES.1.0 %}
                                            selected
                                        {% endif %}
                                            >{{ CONST.STATUS_CHOICES.1.1 }}</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-3 control-label"></label>
                                <div class="col-sm-6">
                                    <button type="submit" class="btn btn-info">Submit</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </section>
            </div>
        </div>
    </div>
</section>
{% endblock content %}
